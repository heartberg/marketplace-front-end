<div class="wrapper wrapper-border">
  <div class="backArrow" (click)="actionBack()">
    <img src="assets/img/arrow.svg" alt="">
  </div>
  <div class="whole">
    <div class="row w-100">
      <div class="col-md-12">
        <div class="inside">
          <div class="wrapper-border">
            <div class="d-flex justify-between" style="justify-content: space-between;">
              <h4 class="color-violet">
                  Offer
              </h4>
              <h4 class="color-violet">
                  Looking for
              </h4>
            </div>
            <div class="row">
              <div class="col-md-6">
                <div class="img card-info">
                  <ng-container>
                    <div class="section" [ngClass]="{'flex-column align-items-center': swapItemsFileData.offering?.isMimeTypeAudio}">
                      <img *ngIf="!swapItemsFileData.offering?.isMimeTypeVideo" src="https://algoverse.infura-ipfs.io/ipfs/{{mSwap?.offeringAsset?.file}}" alt="">
                      <!--if mimetype is a audio-->
                      <audio controls *ngIf="swapItemsFileData.offering?.isMimeTypeAudio" class="mt-3">
                        <source [src]="swapItemsFileData.offering?.animation_url" [type]="swapItemsFileData.offering?.animation_url_mimetype">
                      </audio>
                      <!--if mimetype is a video-->
                      <video width="250" height="250" controls *ngIf="swapItemsFileData.offering?.isMimeTypeVideo" poster="https://algoverse.infura-ipfs.io/ipfs/{{mSwap?.offeringAsset?.file}}">
                        <source [src]="swapItemsFileData.offering?.animation_url" [type]="swapItemsFileData.offering?.animation_url_mimetype">
                      </video>
                    </div>
                    <div class="card-info-left">
                      <div class="section asset-star-container">
                        <img (click)="addOrRemoveStar(true)" class="asset-star" [src]="isStarredOffering  ? './assets/img/filled_star.png' : './assets/img/unfilled_star.png'" alt="star">
                        <span>{{mSwap?.offeringAsset?.stars}}</span>
                      </div>
                      <div class="section">
                        <h4>Name: </h4>
                        <span class="unset-dm-style">{{mSwap?.offeringAsset?.name}}</span>
                      </div>
                      <div class="section">
                        <h4>Asset ID: </h4>
                        <span class="unset-dm-style">{{mSwap?.offeringAsset?.assetId}}</span>
                      </div>
                      <div class="section" *ngIf="mSwap?.offeringAsset?.unitName">
                        <h4>Asset Unit:</h4>
                        <span class="unset-dm-style">{{mSwap?.offeringAsset?.unitName}}</span>
                      </div>
                      <div class="section" style="align-items: center; cursor: pointer" routerLink="../../profile/{{mSwap?.offeringAsset?.creator?.wallet}}">
                        <h4 style="overflow-wrap: break-word;">Creator: </h4>
                        <img *ngIf="mSwap?.offeringAsset?.creator?.profileImage" src="{{mSwap?.offeringAsset?.creator?.profileImage}}" alt="" style="width: 30px; height: 30px; margin-right: 4px; border-radius: 12px;">
                        <img *ngIf="!mSwap?.offeringAsset?.creator?.profileImage" src="assets/img/default-avatar.svg" alt="" style="width: 30px; height: 30px; margin-right: 4px; border-radius: 12px;">
                        <span>{{mSwap?.offeringAsset?.creator?.name.length > 15? mSwap?.offeringAsset?.creator?.name.substring(0,15).concat('...') : mSwap?.offeringAsset?.creator?.name}}</span>
                        <img style='width: 25px; height: 25px;' src="assets/img/verified-mark.png" alt=""
                             *ngIf="mSwap?.offeringAsset?.creator?.verified">
                      </div>
                      <div class="section">
                        <h4>Total Supply:</h4>
                        <span class="unset-dm-style">{{offeringAssetSupply}} {{offeringAssetDecimals > 0 ? "(Fractions: " : ''}} {{offeringAssetDecimals > 0 ? offeringAssetDecimals : ''}}{{offeringAssetDecimals > 0 ? ")" : ''}} </span>
                      </div>
                      <div class="section">
                        <h4>Amount:</h4>
                        <span class="unset-dm-style">{{ amount }}</span>
                      </div>
                      <ng-container *ngIf="mSwap?.offeringAsset?.properties && mSwap?.offeringAsset?.properties.length > 0">
                        <h4 class="text-center color-violet">Properties</h4>
                        <div *ngFor="let prop of mSwap?.offeringAsset?.properties">
                          <div class="d-flex justify-content-center" style="width: 100%;">
                            <div class="mr-1">
                              <h4>{{prop.trait_type}}:</h4>
                            </div>
                            <div>
                              <p class="color-violet" style="overflow-wrap: break-word;">{{prop.value}}</p>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                    </div>
                  </ng-container>
                </div>
            </div>
              <div class="col-md-6" *ngIf="mSwap">
                <ng-container>
                  <div class="wrapper">
                    <div class="img">
                      <div class="section" [ngClass]="{'flex-column align-items-center': swapItemsFileData.accepting?.isMimeTypeAudio}">
                        <img *ngIf="!swapItemsFileData.accepting?.isMimeTypeVideo" src="https://algoverse.infura-ipfs.io/ipfs/{{mSwap?.acceptingAsset?.file}}" alt="">
                        <!--if mimetype is a audio-->
                        <audio controls *ngIf="swapItemsFileData.accepting?.isMimeTypeAudio" class="mt-3">
                          <source [src]="swapItemsFileData.accepting?.animation_url" [type]="swapItemsFileData.accepting?.animation_url_mimetype">
                        </audio>
                        <!--if mimetype is a video-->
                        <video width="250" height="250" controls *ngIf="swapItemsFileData.accepting?.isMimeTypeVideo" poster="https://algoverse.infura-ipfs.io/ipfs/{{mSwap?.acceptingAsset?.file}}">
                          <source [src]="swapItemsFileData.accepting?.animation_url" [type]="swapItemsFileData.accepting?.animation_url_mimetype">
                        </video>
                      </div>
                    </div>
                    <div class="card-info mt-3">
                      <div class="card-info-left" style="display: flex;
                        flex-direction: column;
                        justify-content: center;
                        align-items: center;">
                        <div class="section asset-star-container">
                          <img (click)="addOrRemoveStar(false)" class="asset-star" [src]="isStarredAccepting  ? './assets/img/filled_star.png' : './assets/img/unfilled_star.png'" alt="star">
                          <span>{{mSwap?.acceptingAsset?.stars}}</span>
                        </div>
                        <div class="section">
                          <h4>Name: </h4>
                          <span>{{mSwap?.acceptingAsset?.name}}</span>
                        </div>
                        <div class="section">
                          <h4>Asset ID:</h4>
                          <span> {{mSwap?.acceptingAsset.assetId}}</span>
                        </div>
                        <div class="section" *ngIf="mSwap?.acceptingAsset?.unitName">
                          <h4>Asset Unit: </h4>
                          <span class="unset-dm-style">{{mSwap?.acceptingAsset?.unitName}}</span>
                        </div>
                        <div class="section" style="align-items: center; cursor: pointer" routerLink="../../profile/{{mSwap?.accepting?.creator?.wallet}}">
                          <h4 style="overflow-wrap: break-word;">Creator: </h4>
                          <img *ngIf="mSwap?.acceptingAsset?.creator?.profileImage" src="{{mSwap?.acceptingAsset?.creator?.profileImage}}" alt="" style="width: 30px; height: 30px; margin-right: 4px; border-radius: 12px;">
                          <img *ngIf="!mSwap?.acceptingAsset?.creator?.profileImage" src="assets/img/default-avatar.svg" alt="" style="width: 30px; height: 30px; margin-right: 4px; border-radius: 12px;">
                          <span>{{mSwap?.acceptingAsset?.creator?.name.length > 15? mSwap?.acceptingAsset?.creator?.name.substring(0,15).concat('...') : mSwap?.acceptingAsset?.creator?.name}}</span>
                          <img style='width: 25px; height: 25px;' src="assets/img/verified-mark.png" alt=""
                               *ngIf="mSwap?.acceptingAsset?.creator?.verified">
                        </div>
                        <div class="section">
                          <h4>Total Supply:</h4>
                          <span> {{ acceptingAssetSupply }} {{ acceptingAssetDecimals > 0? ' (Fractions: {{acceptingAssetDecimals}}' : ''}}</span>
                        </div>
                        <div class="section">
                          <h4>Amount:</h4>
                          <span class="unset-dm-style">{{ acceptingAmount }}</span>
                        </div>
                        <ng-container *ngIf="mSwap?.acceptingAsset?.properties && mSwap?.acceptingAsset?.properties.length > 0">
                          <h4 class="text-center color-violet">Properties</h4>
                          <div *ngFor="let prop of mSwap?.acceptingAsset?.properties">
                            <div class="d-flex justify-content-center" style="width: 100%;">
                              <div class="mr-1">
                                <h4>{{prop.trait_type}}:</h4>
                              </div>
                              <div>
                                <p class="color-violet" style="overflow-wrap: break-word;">{{prop.value}}</p>
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                    </div>
                  </div>
                </ng-container>
              </div>
          </div>
          <div class="buttons">
            <button class="btn-secondary-costum aligner" (click)="actionSwap()" style="width: 160px;">
              <ng-container *ngIf="isMine">
                Cancel Swap
              </ng-container>
              <ng-container *ngIf="!isMine">
                Swap
              </ng-container>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
